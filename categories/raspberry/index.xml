<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>raspberry on technical_</title><link>https://blog.agramakov.me/categories/raspberry/</link><description>Recent content in raspberry on technical_</description><generator>Hugo</generator><language/><lastBuildDate>Sun, 18 Sep 2022 21:48:21 +0100</lastBuildDate><atom:link href="https://blog.agramakov.me/categories/raspberry/index.xml" rel="self" type="application/rss+xml"/><item><title>Zakhar Brain Service</title><link>https://blog.agramakov.me/posts/2022/09-18-zakhar-brain-service/</link><pubDate>Sun, 18 Sep 2022 21:48:21 +0100</pubDate><guid>https://blog.agramakov.me/posts/2022/09-18-zakhar-brain-service/</guid><description><p>Yesterday I merged a big software update to the Zakhar&rsquo;s Raspberry Pi Unit -<code>brain_service</code>.</p><p>The update brings a service providing the robot&rsquo;s status (network, OS status) and access to the CAN bus for many simultaneously connected clients. Also, the service tracks the presence of other robot Units on the CAN bus.</p><p>There is another service shipping with the same repository<code>brain_service_display</code>. This service connects to<code>brain_service</code> and shows some important information on a small OLED display:</p><p><img class="img-zoomable" src="screen1.jpg" alt=""/><img class="img-zoomable" src="screen2.jpg" alt=""/><img class="img-zoomable" src="screen3.jpg" alt=""/></p><ul><li>f - Face Unit</li><li>S - Sensor Unit</li><li>m - Wheeled moving platform (&ldquo;Motors&rdquo;)</li><li>t - Service Unit (&ldquo;Tool&rdquo;)</li></ul><p>The service structure is presented below:</p><p><img class="img-zoomable" src="structure.svg" alt=""/></p><p>The service publishes status information and incoming CAN messages to<a href="https://zeromq.org/" target="_blank">ZeroMQ</a> subscribers. The service allows all TCP connections including connections from external machines. See<a href="https://github.com/Zakhar-the-Robot/brain_pycore" target="_blank">brain_pycore</a> for compatible subscriber and client implementation classes.</p><p>Sources:</p><ul><li><a href="https://github.com/Zakhar-the-Robot/brain_service" target="_blank">https://github.com/Zakhar-the-Robot/brain_service</a></li><li><a href="https://github.com/Zakhar-the-Robot/brain_pycore" target="_blank">https://github.com/Zakhar-the-Robot/brain_pycore</a></li></ul></description></item><item><title>Brain Software Architecture</title><link>https://blog.agramakov.me/posts/2022/08-31-brain-software-architecture/</link><pubDate>Wed, 31 Aug 2022 19:58:42 +0100</pubDate><guid>https://blog.agramakov.me/posts/2022/08-31-brain-software-architecture/</guid><description><p>Before updating Alive OS to support<a href="https://zakhar-the-robot.github.io/doc/docs/communication-protocols/canbus/" target="_blank">qCAN (my CANbus-based protocol)</a> I have the last thing to do. To simplify my live in future I need a CAN publisher that can publish messages to many subscribers. My main subscribe of course is AliveOS but also to display information about connected devices I need a second subscriber - a service listening only qCAN Present messages.</p><p>To do it I will use a<a href="https://zeromq.org/" target="_blank">ZeroMQ protocol</a> - an extremely supported and documented for many programming languages standard. I&rsquo;m going to update my brain_service to support the protocol and it will be responsible for all interaction with Raspberry Pi.</p><p><img class="img-zoomable" src="Brain_Structure.png" alt=""/></p><p>Repositories:</p><ul><li><a href="https://github.com/Zakhar-the-Robot/brain_pycore" target="_blank">https://github.com/Zakhar-the-Robot/brain_pycore</a></li><li><a href="https://github.com/Zakhar-the-Robot/brain_service" target="_blank">https://github.com/Zakhar-the-Robot/brain_service</a></li></ul></description></item><item><title>Turn On UART on Raspberry</title><link>https://blog.agramakov.me/posts/2018/07-04-turn-on-uart-on-raspberry/</link><pubDate>Wed, 04 Jul 2018 00:00:00 +0000</pubDate><guid>https://blog.agramakov.me/posts/2018/07-04-turn-on-uart-on-raspberry/</guid><description><ol><li><a href="https://www.raspberrypi.org/downloads/raspbian/" target="_blank">Download</a> and write Raspbian or something similar;</li><li>Add to config.txt on flash card:</li></ol><div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-1"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-1">1</a></span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-2"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-2">2</a></span></code></pre></td><td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># Enable UART</span></span><span style="display:flex;"><span>enable\uart=1</span></span></code></pre></td></tr></table></div></div><ol start="3"><li>Connect as on picture:</li></ol><p><img class="img-zoomable" src="m6myypbk.png" alt=""/></p></description></item></channel></rss>